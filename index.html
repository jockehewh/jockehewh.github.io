<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio web</title>
  <link rel="stylesheet" href="projects/css/uikit.min.css">
  <link rel="stylesheet" href="projects/css/index.css">
</head>

<body>
  <header class="header-main">
    <div class="social">
      <div class="show-time">
        <span class="date"></span>
        <span class="time"></span>
      </div>
    </div>
    <h1>Xavier Bélénus,<br>Développeur web.</h1>
  </header>
  <div class="projects-front">
    <ul>
      <li><a href="./projects/country-data" target="_projects-front_">country-data</a></li>
      <li><a href="./projects/guess-my-number" target="_projects-front_">guess-my-number</a></li>
      <li><a href="./projects/pig-game-xavier" target="_projects-front_">pig-game</a></li>
      <li><a href="./projects/pokedex" target="_projects-front_">pokedex</a></li>
      <li><a href="./projects/recettes" target="_projects-front_">recettes</a></li>
      <li><a href="./projects/secret-maker" target="_projects-front_">secret-maker</a></li>
    </ul>
    <iframe src="" name="_projects-front_"></iframe>
  </div>
  <div id="side-menu" uk-offcanvas="bg-close: false;">
    <div class="uk-offcanvas-bar inside-side-menu">
      <button class="uk-offcanvas-close" type="button" uk-close></button>
      <h2>Xavier Bélénus</h2>
      <p>Développeur web full-stack spécialisé en javascript.<br>pour plus d'informations je vous laisses explorer les options ci-dessous.</p>
      <ul class="actions-list">
        <li><a href="#" class="load-stack" uk-icon="icon: file-text; ratio: 2" uk-tooltip="title: Charger ma stack technique; pos: bottom;"></a></li>
      </ul>
      <div class="resize"></div>
    </div>
  </div>
  <script src="projects/js/uikit.min.js"></script>
  <script src="projects/js/uikit-icons.min.js"></script>
  <script>
    let visit = {
      timeIn: Date.now(),
      durationInSeconds: 0,
      mouseMoves: [],
    }
    
    localStorage.visit = JSON.stringify(visit)
    document.querySelector('.date').textContent = new Intl.DateTimeFormat('fr').format(Date.now())
    const showTime = setInterval(()=>{
      document.querySelector('.time').textContent = new Intl.DateTimeFormat('fr',{timeStyle: 'medium'}).format(Date.now())
      visit.durationInSeconds++
      if(visit.durationInSeconds % 60 === 0){
        localStorage.visit = JSON.stringify(visit)
      }
    }, 1000)
    const sideMenu = document.querySelector('.inside-side-menu')
    const resizeBtn = document.querySelector('.resize')
    const startResize = (e)=>{
      window.addEventListener('mousemove', resize);
      window.addEventListener('mouseup', stopResize);
    }
    const resize = (e)=>{
      resizeBtn.parentElement.style.width =  `${e.clientX - resizeBtn.parentElement.offsetLeft}px`
    }
    const stopResize = (e)=>{
        window.removeEventListener('mousemove', resize);
        window.removeEventListener('mouseup', stopResize);
    }
    const createPanel = ()=>{
      let panel = document.createElement('div')
      let panelHeader = document.createElement('div')
      let panelBody = document.createElement('div')
      panel.classList.add("uk-card")
      panelHeader.classList.add("uk-card-header")
      panelBody.classList.add("uk-card-body")
      panel.appendChild(panelHeader)
      panel.appendChild(panelBody)
      return panel
    }
    document.querySelector('.load-stack').addEventListener('click', ()=>{
      let s = document.createElement('script')
      s.src = "projects/js/display_stack.js"
      document.body.appendChild(s)
    })
    document.querySelector('.load-panel').addEventListener('click', ()=>{
      let s = document.createElement('script')
      s.src = "projects/js/display_panel.js"
      document.body.appendChild(s)
    })
    resizeBtn.addEventListener('mousedown', startResize)
    

  </script>
</body>

</html>